---
title: "Laboratory 2"
author: "Majood Haddad"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: true
    toc_depth: 2
    toc_float:
      collapsed: false
      smooth_scroll: false
    theme: sandstone
    highlight: zenburn
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Tasks

## Task 1
```{r}
getwd()
```

## Task 2
```{r}
epagas = read.csv("EPAGAS.csv")
head(epagas)
```

## Task 3

Make the object mpg.
```{r}
mpg = epagas$MPG
head(mpg)
```

Transform the variable mpg into z, then verify the results.
```{r}
z = (mpg - mean(mpg)) / sd(mpg)
head(z)
print(paste0("mean = ", round(mean(z), digits = 4)), quote = FALSE)
print(paste0("variance = ", var(z)), quote = FALSE)
print(paste0("standard deviation = ", sd(z)), quote = FALSE)
```

Values of mpg that are possible outliers
```{r}
mpg[abs(z) >= 2 & abs(z) <= 3]
```

Values of mpg that are defined as outliers
```{r}
mpg[abs(z) > 3]
```

Dotplot Representation of the Distribution of mpg Values
```{r}
library(lattice)
mpgcol = ifelse(abs(z) > 3, "red",
                ifelse(abs(z) >= 2 & abs(z) <= 3, "blue", "black"))
dotplot(mpg, col = mpgcol, main = "Plot Representation of mpg Values")
```

## Task 4
Boxplot
```{r}
boxplot(mpg, notch = median(mpg), col = "black", main = "Boxplot of the mpg Values", horizontal = TRUE)
```

Chebyshev's Theorem says that at least
  1 - 1/(k^2)
of the data will fall within k standard deviations of the mean.
With k=2,
```{r}
k = 2
cheb <- 1 - 1 / (k ^ 2)
cheb
```

The exact proportion of data within 2 standard deviations:
```{r}
exacttwo <- length(mpg[abs(z) < 2]) / length(mpg)
exacttwo
```

That being said, Chebyshev's Theorem did not agree with the data obtained using the length function.

Now considering the Emperical Rule; this rule states that the distribution should be symmetrical with ~68% of the data lying within 1 standard deviation. Moreover, ~95% of the data lie within 2 standard deviation, whereas ~99% of these data are within 3 standard deviation.
```{r}
pnorm(2) - pnorm(-2)
```

When looking at this, it can be seen that the Emperical Rule corresponds well when it comes to showing the proportion of the mpg data values that exist within 2 standard deviations. The Emperical Rule states that ~95% of the data are within 2 standard deviations, and the exact proportion that was found is 0.96 or 96%. This shows how close the answer obtained from the Emperical Rule is to that of the exact proportion found.

The Emperical Rule is valid in this case because when looking at the data above, and more specifically the possible and defined outliers, we can see that only 4 points do not lie within 2 standard deviations. Also when looking at the plot representation of mpg values, it can be seen that most values which are in black are within 2 standard deviations. Thus, in other words, the dot plot graph and the possible and defined outliers explain why the Empirical Rule is valid.